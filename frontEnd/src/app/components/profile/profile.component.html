<app-navbar></app-navbar>
<div  *ngIf="user" class="profileContainer">
  <div class="m-grid__item m-grid__item--fluid m-wrapper">
    <!-- BEGIN: Subheader -->
    <div class="m-subheader">

    </div>
    <!-- END: Subheader -->
    <div class="m-content m--margin-top-15 m--margin-25">
      <div class="row">
        <div class="col-xl-3 col-lg-4">
          <div class="m-portlet m-portlet--full-height  ">
            <div class="m-portlet__body">
              <div class="m-card-profile">
                <div class="m-card-profile__title m--hide">
                  Profile
                </div>
                <div class="m-card-profile__pic">
                  <div class="m-card-profile__pic-wrapper">
                    <img src="{{user.profileImg}}" alt="">
                  </div>
                </div>
                <div class="m-card-profile__details">
                    <span class="m-card-profile__name">
                      Genjourist {{user.name}}
                    </span>
                  </div>
                  <br>
                <div class="row">
                    <div class="col">
                        <div class="m-widget19__stats text-center">
                            <h3 class="m--font-brand">
                              {{supportersNumber}}
                            </h3>
                            <span class="m-widget19__comment">
                              Supporters
                            </span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="m-widget19__stats text-center">
                            <h3 class="m--font-brand">
                                {{supportingNumber}}
                              </h3>
                            <span class="m-widget19__comment">
                              Supporting
                            </span>
                        </div>
                    </div>    
                                     
                </div>
              </div>
              <div class="m-separator"></div>
              <a [routerLink] = "['/genjourist',user.genjouristId]" style="color:white" class="btn m-btn--square  btn-brand btn-block">
                  View Your Profile
              </a>
              <ul class="m-nav m-nav--hover-bg m-portlet-fit--sides">
                <li class="m-nav__separator m-nav__separator--fit"></li>
                <li class="m-nav__section m--hide">
                  <span class="m-nav__section-text">
                    Section
                  </span>
                </li>
                <li class="m-nav__item">
                  <a class="m-nav__link">
                    <i class="m-nav__link-icon flaticon-calendar-2"></i>
                    <span class="m-nav__link-title">
                      <span class="m-nav__link-wrap">
                        <span class="m-nav__link-text">
                          Age
                        </span>
                        <span class="m-nav__link-badge">
                          <span class="m-badge m-badge--success m-badge--wide">
                            {{user.dob | ageCategory }}
                          </span>
                        </span>
                      </span>
                    </span>
                  </a>
                </li>
                <li class="m-nav__item">
                  <a class="m-nav__link">
                    <i class="m-nav__link-icon flaticon-user"></i>
                    <span class="m-nav__link-title">
                      <span class="m-nav__link-wrap">
                        <span class="m-nav__link-text">
                          Gender
                        </span>
                        <span class="m-nav__link-badge">
                          <span class="m-badge m-badge--info m-badge--wide">
                            {{user.gender}}
                          </span>
                        </span>
                      </span>
                    </span>
                  </a>
                </li>
                <li class="m-nav__item">
                  <a  class="m-nav__link">
                    <i class="m-nav__link-icon la la-phone"></i>
                    <span class="m-nav_link-wrap">
                      <span class="m-nav__link-text">
                          Phone Number
                        </span>
                        <span class="m--pull-right p-details">
                            +8989565623
                        </span>
                    </span>
                  </a>
                </li>
                <li class="m-nav__item">
                  <a class="m-nav__link">
                    <i class="m-nav__link-icon flaticon-chat-1"></i>
                    <span class="m-nav_link-wrap">
                        <span class="m-nav__link-text">
                            Email
                          </span>
                          <span class="m--pull-right p-details">
                              {{user.email}}
                          </span>
                      </span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-xl-9 col-lg-8">
          <div class="m-content">
            <div class="row">
              <div class="col-lg">
                <!--begin::Portlet-->
                <div class="m-portlet">
                  <div class="m-portlet__body">
                    <ul class="nav nav-tabs  m-tabs-line" role="tablist">
                      <li class="nav-item m-tabs__item">
                        <a class="nav-link m-tabs__link active" data-toggle="tab" href="#m_tabs_6_1" role="tab">
                          Articles
                        </a>
                      </li>
                      <li class="nav-item m-tabs__item">
                        <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_tabs_6_2" role="tab">
                          Quotes
                        </a>
                      </li>
                      <li class="nav-item m-tabs__item">
                        <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_tabs_6_3" role="tab">
                          Surpporters
                        </a>
                      </li>
                      <li class="nav-item m-tabs__item">
                        <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_tabs_6_4" role="tab">
                          Supporting
                        </a>
                      </li>
                    </ul>
                    <div class="tab-content">
                      <div class="tab-pane active" id="m_tabs_6_1" role="tabpanel">
                          <div class="m--pull-right">
                              <ul class="m-portlet__nav">
                                <li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover" aria-expanded="true">
                                  <a href="#" class="m-portlet__nav-link m-dropdown__toggle dropdown-toggle btn btn--sm m-btn--pill btn-secondary m-btn m-btn--label-brand">
                                    Sort
                                  </a>
                                  <div class="m-dropdown__wrapper">
                                    <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust" style="left: auto; right: 36.5px;"></span>
                                    <div class="m-dropdown__inner">
                                      <div class="m-dropdown__body">
                                        <div class="m-dropdown__content">
                                          <ul class="m-nav">
                                            <li class="m-nav__item">
                                              <a href="" class="m-nav__link">
                                                <i class="m-nav__link-icon flaticon-share"></i>
                                                <span class="m-nav__link-text">
                                                  Yesterday
                                                </span>
                                              </a>
                                            </li>
                                            <li class="m-nav__item">
                                              <a href="" class="m-nav__link">
                                                <i class="m-nav__link-icon flaticon-chat-1"></i>
                                                <span class="m-nav__link-text">
                                                  Week
                                                </span>
                                              </a>
                                            </li>
                                            <li class="m-nav__item">
                                              <a href="" class="m-nav__link">
                                                <i class="m-nav__link-icon flaticon-info"></i>
                                                <span class="m-nav__link-text">
                                                  Month
                                                </span>
                                              </a>
                                            </li>
                                            <li class="m-nav__item">
                                              <a href="" class="m-nav__link">
                                                <i class="m-nav__link-icon flaticon-lifebuoy"></i>
                                                <span class="m-nav__link-text">
                                                  Year
                                                </span>
                                              </a>
                                            </li>
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </li>
                              </ul>
                            </div>
                            <div class="m-widget5">
                              <div class="m-widget5__item" *ngFor="let journal of journals">
                                <div class="m-widget5__pic">
                                  <img class="m-widget7__img" src="assets/app/media/img//products/product6.jpg" alt="">
                                </div>
                                <div class="m-widget5__content">
                                   <h4 class="m-widget5__title">
                                      <a [routerLink]="['/journal',journal.articleId]"> {{journal.title}} </a>
                                  </h4>
                                  <span class="m-widget5__desc">
                                    {{journal.content | summary}}
                                  </span>
                                  <div class="m-widget5__info">
                                    <span class="m-widget5__info-date m--font-info">
                                      {{journal.date | date:'medium' }}
                                    </span>
                                  </div>
                                </div>
                                <div class="m-widget5__stats1">
                                    <div>
                                        <a [routerLink]="['/edit/article/',journal.articleId]" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Edit details"><i class="la la-edit"></i></a>
                                    </div>
                                    <div>
                                        <a (click)="deleteArticle(journal.articleId)" class="m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill m--margin-top-10" title="Delete"><i class="la la-trash"></i></a>
                                    </div>
                                </div>
                                <div class="m-widget5__stats1">
                                  <span class="m-widget5__number"> 
                                    {{journal.supportNumber}}
                                  </span>
                                  <br>
                                  <span class="m-widget5__sales">
                                    supports
                                  </span>
                                </div>
                                <div class="m-widget5__stats2">
                                  <span class="m-widget5__number">
                                    {{journal.replicateNumber}}
                                  </span>
                                  <br>
                                  <span class="m-widget5__votes">
                                    replicates
                                  </span>
                                </div>
                              </div>
                            </div>
                      </div>
                      <div class="tab-pane" id="m_tabs_6_2" role="tabpanel">
                          <div class="m--pull-right">
                              <ul class="m-portlet__nav">
                                <li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover" aria-expanded="true">
                                  <a href="#" class="m-portlet__nav-link m-dropdown__toggle dropdown-toggle btn btn--sm m-btn--pill btn-secondary m-btn m-btn--label-brand">
                                    Sort
                                  </a>
                                  <div class="m-dropdown__wrapper">
                                    <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust" style="left: auto; right: 36.5px;"></span>
                                    <div class="m-dropdown__inner">
                                      <div class="m-dropdown__body">
                                        <div class="m-dropdown__content">
                                          <ul class="m-nav">
                                            <li class="m-nav__item">
                                              <a href="" class="m-nav__link">
                                                <i class="m-nav__link-icon flaticon-share"></i>
                                                <span class="m-nav__link-text">
                                                  Yesterday
                                                </span>
                                              </a>
                                            </li>
                                            <li class="m-nav__item">
                                              <a href="" class="m-nav__link">
                                                <i class="m-nav__link-icon flaticon-chat-1"></i>
                                                <span class="m-nav__link-text">
                                                  Week
                                                </span>
                                              </a>
                                            </li>
                                            <li class="m-nav__item">
                                              <a href="" class="m-nav__link">
                                                <i class="m-nav__link-icon flaticon-info"></i>
                                                <span class="m-nav__link-text">
                                                  Month
                                                </span>
                                              </a>
                                            </li>
                                            <li class="m-nav__item">
                                              <a href="" class="m-nav__link">
                                                <i class="m-nav__link-icon flaticon-lifebuoy"></i>
                                                <span class="m-nav__link-text">
                                                  Year
                                                </span>
                                              </a>
                                            </li>
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </li>
                              </ul>
                          </div>
                          <div class="m-widget5">
                            <div class="m-widget5__item" *ngFor="let quotation of quotations">
                              <div class="m-widget5__content m-widget2__item m-widget2__item--primary">
                                <span class="m-widget5__title">
                                  {{quotation.quote}}
                                </span>
                                <div class="m-widget5__info">
                                  <span class="m-widget5__info-date m--font-info">
                                    {{quotation.date | date:'medium' }}
                                  </span>
                                </div>
                              </div>
                              <div class="m-widget5__stats1">
                                  <div>
                                      <a [routerLink]="['/edit/quotation/',quotation.quotationId]" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Edit details"><i class="la la-edit"></i></a>
                                  </div>
                                  <div>
                                      <a (click)="deleteQuotation(quotation.quotationId)" class="m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill m--margin-top-10" title="Delete"><i class="la la-trash"></i></a>
                                  </div>
                              </div>
                              <div class="m-widget5__stats1">
                                <span class="m-widget5__number">
                                  {{quotation.supportNumber}}
                                </span>
                                <br>
                                <span class="m-widget5__sales">
                                  supports
                                </span>
                              </div>
                              <div class="m-widget5__stats2">
                                <span class="m-widget5__number">
                                  {{quotation.replicateNumber}}
                                </span>
                                <br>
                                <span class="m-widget5__votes">
                                  replicates
                                </span>
                              </div>
                            </div>
                          </div>
                      </div>
                  <div class="tab-pane" id="m_tabs_6_3" role="tabpanel">
                    <div class="m-portlet__body">
                      <div class="m-widget4" *ngFor = "let supportersList of supportersLists">
                        <div class="m-widget4__item">
                          <div class="m-widget4__img m-widget4__img--pic">
                            <img src="{{supportersList.details.profileImg}}" alt="">
                          </div>
                          <div class="m-widget4__info">
                            <span class="m-widget4__title">
                              <a [routerLink]="['/genjourist',supportersList.details.genjouristId]">
                                {{supportersList.details.name}}
                              </a>
                            </span>
                            <br>
                            <span class="m-widget4__sub">
                                <span class="m-badge m-badge--brand m-badge--wide">
                                  {{supportersList.details.dob | ageCategory}}
                                </span>
                            </span>
                          </div>
                          <div class="m-widget4__ext">
                              <app-support-btn [supportGenjouristId]="supportersList.details.genjouristId" [userId]="user.genjouristId" ></app-support-btn>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane" id="m_tabs_6_4" role="tabpanel">
                        <div class="m-portlet__body">
                            <div class="m-widget4" *ngFor = "let supportingList of supportingLists">
                              <div class="m-widget4__item">
                                <div class="m-widget4__img m-widget4__img--pic">
                                  <img src="{{supportingList.details.profileImg}}" alt="">
                                </div>
                                <div class="m-widget4__info">
                                  <span class="m-widget4__title">
                                    <a [routerLink]="['/genjourist',supportingList.details.genjouristId]" (click)="refreshUser()">
                                      {{supportingList.details.name}}
                                    </a>
                                  </span>
                                  <br>
                                  <span class="m-widget4__sub">
                                      <span class="m-badge m-badge--brand m-badge--wide">
                                          {{supportingList.details.dob | ageCategory}}
                                      </span>
                                  </span>
                                </div>
                                <div class="m-widget4__ext">
                                  <app-support-btn [supportGenjouristId]="supportingList.details.genjouristId" [userId]="user.genjouristId" ></app-support-btn>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
          
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
